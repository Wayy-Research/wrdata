# WRData Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL=postgresql://wrdata_user:wrdata_dev_password@localhost:5432/wrdata
# For production: postgresql://user:password@host:5432/dbname?sslmode=require

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_URL=redis://localhost:6379/0
# For production with password: redis://:password@host:6379/0

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
DEBUG=true
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
ENVIRONMENT=development  # development, staging, production

# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# ============================================================================
# DATA PROVIDER API KEYS - FREE TIER
# ============================================================================

# Alpha Vantage (Free: 5 calls/min, 500 calls/day)
# Get your key at: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=

# Twelve Data (Free: 8 calls/min, 800 calls/day)
# Get your key at: https://twelvedata.com/apikey
TWELVE_DATA_API_KEY=

# CoinGecko (Free tier: 10-50 calls/min)
# Optional - public API works without key
COINGECKO_API_KEY=

# FRED (Federal Reserve Economic Data) - Free, unlimited
# Get your key at: https://fred.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=

# ============================================================================
# DATA PROVIDER API KEYS - PRO TIER (PAID)
# ============================================================================

# Polygon.io (Paid: $99-249/mo for redistribution)
# Get your key at: https://polygon.io/dashboard/api-keys
POLYGON_API_KEY=

# IEX Cloud (Paid: $99+/mo for redistribution)
# Get your key at: https://iexcloud.io/console/tokens
IEX_API_KEY=
IEX_API_SECRET=

# Tiingo (Freemium model)
# Get your key at: https://api.tiingo.com/account/api/token
TIINGO_API_KEY=

# ============================================================================
# BROKER API KEYS (ENTERPRISE TIER)
# ============================================================================

# Alpaca (Free paper trading, paid live trading)
# Get your keys at: https://app.alpaca.markets/paper/dashboard/overview
ALPACA_API_KEY=
ALPACA_API_SECRET=
ALPACA_BASE_URL=https://paper-api.alpaca.markets  # paper or live

# Interactive Brokers TWS API
IBKR_USERNAME=
IBKR_PASSWORD=
IBKR_ACCOUNT=
IBKR_GATEWAY_PORT=4002

# TD Ameritrade
TD_AMERITRADE_API_KEY=
TD_AMERITRADE_REDIRECT_URI=
TD_AMERITRADE_ACCOUNT_ID=

# ============================================================================
# CRYPTO EXCHANGE API KEYS (OPTIONAL - HIGHER RATE LIMITS)
# ============================================================================

# Binance (Public API works without keys, but authenticated = higher limits)
# Get your keys at: https://www.binance.com/en/my/settings/api-management
BINANCE_API_KEY=
BINANCE_API_SECRET=

# Coinbase Pro (Legacy - deprecated Feb 2025)
# COINBASE_API_KEY=
# COINBASE_API_SECRET=
# COINBASE_PASSPHRASE=

# Coinbase Advanced Trade API (CDP Keys - required as of Feb 2025)
# Get your keys at: https://portal.cdp.coinbase.com/access/api
# 1. Create a new API key with "Advanced Trade" permissions
# 2. Select ECDSA (ES256) as the key type (NOT Ed25519)
# 3. Download the JSON file or copy the values below
# Key format: organizations/{org_id}/apiKeys/{key_id}
COINBASE_KEY=
# Private key in PEM format (use \n for newlines on single line)
# Example: -----BEGIN EC PRIVATE KEY-----\nMHcCAQEE...\n-----END EC PRIVATE KEY-----\n
COINBASE_PRIVATE_KEY=

# Kraken (Public API works, authenticated = higher limits)
# Get your keys at: https://www.kraken.com/u/security/api
KRAKEN_API_KEY=
KRAKEN_API_SECRET=

# ============================================================================
# WHALE TRANSACTION TRACKING
# ============================================================================

# Whale Alert (Paid: ~$30/mo for blockchain whale transaction tracking)
# Get your key at: https://whale-alert.io/
# Provides:
# - Historical whale transaction data (REST API)
# - Real-time whale alerts (WebSocket)
# - Transaction attribution (exchanges, wallets)
# - Multi-blockchain support (BTC, ETH, etc.)
WHALE_ALERT_API_KEY=

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100  # Requests per minute per API key
RATE_LIMIT_BURST=20        # Burst allowance

# ============================================================================
# CACHING
# ============================================================================
CACHE_ENABLED=true
CACHE_TTL=300  # Cache time-to-live in seconds (5 minutes)
CACHE_MAX_SIZE=1000  # Maximum number of cached items

# ============================================================================
# SECURITY
# ============================================================================
SECRET_KEY=change-this-to-a-random-secret-key-in-production
JWT_SECRET_KEY=change-this-to-a-different-random-secret-key
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# API Key Encryption (for storing user API keys)
ENCRYPTION_KEY=generate-this-with-fernet-generate-key

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
# Sentry (Error tracking)
SENTRY_DSN=

# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_OPTIONS_CHAIN=true
ENABLE_TICK_DATA=false  # Coming soon
ENABLE_WEBSOCKETS=false  # Coming soon
ENABLE_ORDER_BOOK=false  # Coming soon

# ============================================================================
# TIER CONFIGURATION
# ============================================================================
DEFAULT_TIER=free  # free, pro, enterprise
FREE_TIER_RATE_LIMIT=100  # requests per minute
PRO_TIER_RATE_LIMIT=1000
ENTERPRISE_TIER_RATE_LIMIT=10000

# ============================================================================
# DATA RETENTION
# ============================================================================
# How long to keep data (TimescaleDB retention policies)
OHLCV_RETENTION_DAYS=365  # 1 year
TICK_RETENTION_DAYS=90    # 3 months
OPTIONS_RETENTION_DAYS=180  # 6 months

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================
# PgAdmin
PGADMIN_EMAIL=admin@wrdata.local
PGADMIN_PASSWORD=admin

# Grafana
GRAFANA_ADMIN_PASSWORD=admin
